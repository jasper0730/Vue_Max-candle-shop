(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1da719f6"],{5257:function(e,t,o){"use strict";o.r(t);var a=o("7a23"),c={class:"container py-3"},n={class:"row"},l={class:"col-md-3 col-sm-4 col"},r=Object(a["createElementVNode"])("option",{selected:""},"全部",-1),i=Object(a["createElementVNode"])("option",null,"淡雅",-1),d=Object(a["createElementVNode"])("option",null,"適中",-1),s=Object(a["createElementVNode"])("option",null,"濃郁",-1),b=[r,i,d,s],p={class:"container pb-5"},m={class:"row row-cols-1 row-cols-sm-2 row-cols-md-3 bg-light g-3"},u={class:"card border-0 mb-4 position-relative position-relative bg-light"},g=["src"],j=Object(a["createElementVNode"])("a",{href:"#",class:"text-dark"},[Object(a["createElementVNode"])("i",{class:"far fa-heart position-absolute",style:{right:"16px",top:"16px"}})],-1),O={class:"card-body p-0 text-center"},h={class:"mt-3 fs-5 text-dark"},v={class:"card-text text-muted mb-0"},f={class:"badge badge-outline rounded-pill bg-secondary"},E={key:0},y={class:"text-muted"},N={key:1},V={class:"text-muted mb-0"},k={class:"text-danger"},D=["onClick"],w=["onClick"];function x(e,t,o,r,i,d){var s=this,x=Object(a["resolveComponent"])("Loading"),S=Object(a["resolveComponent"])("Pagination"),M=Object(a["resolveComponent"])("ProductModal");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",c,[Object(a["createVNode"])(x,{active:i.isLoading,"z-index":1060},null,8,["active"]),Object(a["createElementVNode"])("div",n,[Object(a["createElementVNode"])("div",l,[Object(a["createElementVNode"])("select",{class:"form-select text-secondary bg-light rounded","aria-label":"Default select example",onChange:t[0]||(t[0]=function(e){return d.getProducts("1",s.$refs.selectItem.value)}),ref:"selectItem"},b,544)])])]),Object(a["createElementVNode"])("div",p,[Object(a["createElementVNode"])("div",m,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(i.products,(function(t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"col",key:t.id},[Object(a["createElementVNode"])("div",u,[Object(a["createElementVNode"])("img",{src:t.imageUrl,class:"card-img-top rounded-0 w-100 object-fit",alt:"...",style:{height:"200px"}},null,8,g),j,Object(a["createElementVNode"])("div",O,[Object(a["createElementVNode"])("h4",h,Object(a["toDisplayString"])(t.title),1),Object(a["createElementVNode"])("p",v,[Object(a["createElementVNode"])("span",f,Object(a["toDisplayString"])(t.category),1)]),t.price===t.origin_price?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",E,[Object(a["createElementVNode"])("p",y," 售價 NT$"+Object(a["toDisplayString"])(e.$filters.currency(t.origin_price)),1)])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",N,[Object(a["createElementVNode"])("p",V,[Object(a["createElementVNode"])("del",null,"原價 NT$"+Object(a["toDisplayString"])(e.$filters.currency(t.origin_price)),1)]),Object(a["createElementVNode"])("p",k," 優惠價 NT$"+Object(a["toDisplayString"])(e.$filters.currency(t.price)),1)])),Object(a["createElementVNode"])("button",{type:"button",class:"btn btn-sm btn-outline-dark rounded mb-2 w-100",onClick:Object(a["withModifiers"])((function(e){return d.getMore(t.id)}),["prevent"])}," 產品介紹 ",8,D),Object(a["createElementVNode"])("button",{type:"button",class:"btn btn-sm btn-outline-dark rounded mb-2 w-100",onClick:Object(a["withModifiers"])((function(e){return d.addToCart(t.id)}),["prevent"])}," 加入購物車 ",8,w)])])])})),128))]),Object(a["createVNode"])(S,{onEmitPages:d.getProducts,pages:i.pagination},null,8,["onEmitPages","pages"])]),Object(a["createVNode"])(M,{ref:"productModal","modal-data":i.product,onAddToCart:d.addToCart},null,8,["modal-data","onAddToCart"])],64)}o("99af");var S=o("1799"),M=(o("a4d3"),o("e01a"),{class:"modal fade",id:"productModal",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true",ref:"modal"}),$={class:"modal-dialog modal-xl"},B={class:"modal-content"},C={class:"modal-header bg-dark text-white"},L={class:"modal-title",id:"productModalLabel"},P=Object(a["createElementVNode"])("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),T={class:"modal-body"},q={class:"row"},_={class:"col-sm-6"},U=["src","alt"],A={class:"col-sm-6"},F={class:"badge mb-1 bg-secondary rounded-pill fs-7"},I=Object(a["createElementVNode"])("h4",{class:"fs-6"},"商品描述:",-1),J={class:"fs-7"},z=Object(a["createElementVNode"])("h4",{class:"fs-6 mt-3"},"商品內容:",-1),G={class:"fs-7"},H={key:0},K={class:"h5"},Q={key:1},R={class:"h6 text-secondary"},W={class:"h5 fw-bold text-danger"},X={class:"input-group mb-3"},Y=["disabled"];function Z(e,t,o,c,n,l){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",M,[Object(a["createElementVNode"])("div",$,[Object(a["createElementVNode"])("div",B,[Object(a["createElementVNode"])("div",C,[Object(a["createElementVNode"])("h5",L,Object(a["toDisplayString"])(o.modalData.title),1),P]),Object(a["createElementVNode"])("div",T,[Object(a["createElementVNode"])("div",q,[Object(a["createElementVNode"])("div",_,[Object(a["createElementVNode"])("img",{class:"img-fluid object-fit",src:o.modalData.imageUrl,alt:o.modalData.title},null,8,U)]),Object(a["createElementVNode"])("div",A,[Object(a["createElementVNode"])("h5",null,[Object(a["createElementVNode"])("span",F,Object(a["toDisplayString"])(o.modalData.category),1)]),I,Object(a["createElementVNode"])("p",J,Object(a["toDisplayString"])(o.modalData.description),1),z,Object(a["createElementVNode"])("p",G,Object(a["toDisplayString"])(o.modalData.content),1),o.modalData.price&&o.modalData.origin_price!==o.modalData.price?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Q,[Object(a["createElementVNode"])("del",R,"售價："+Object(a["toDisplayString"])(o.modalData.origin_price),1),Object(a["createElementVNode"])("div",W," 優惠價："+Object(a["toDisplayString"])(o.modalData.price),1)])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",H,[Object(a["createElementVNode"])("p",K,Object(a["toDisplayString"])(o.modalData.origin_price),1)])),Object(a["createElementVNode"])("div",X,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"number",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=function(e){return n.qty=e}),min:"1"},null,512),[[a["vModelText"],n.qty,void 0,{number:!0}]]),Object(a["createElementVNode"])("button",{disabled:n.qty<=0||!n.qty,class:"btn btn-outline-dark",type:"button",onClick:t[1]||(t[1]=function(t){return e.$emit("add-to-cart",o.modalData.id,n.qty)})}," 加入購物車 ",8,Y)])])])])])])],512)}var ee=o("7c2b"),te=o.n(ee),oe={props:{modalData:{type:Object}},data:function(){return{modal:"",qty:1}},mounted:function(){this.modal=new te.a(this.$refs.modal,{keyboard:!1})},methods:{openModal:function(){this.qty=1,this.modal.show()},hideModal:function(){this.modal.hide()}}},ae=o("6b0d"),ce=o.n(ae);const ne=ce()(oe,[["render",Z]]);var le=ne,re=o("4dcd"),ie={data:function(){return{products:[],pagination:{},currentPage:1,isLoading:!1,product:{}}},methods:{getProducts:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,o=arguments.length>1?arguments[1]:void 0;this.isLoading=!0,this.currentPage=t;var a="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("jasper07301","/products?page=").concat(t);o&&(a="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("jasper07301","/products?page=").concat(t,"&category=").concat(o)),this.$http.get(a).then((function(t){e.isLoading=!1,e.products=t.data.products,e.pagination=t.data.pagination})).catch((function(t){e.isLoading=!1,e.$httpMessageState(t.response,"產品列表")}))},addToCart:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isLoading=!0;var a="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("jasper07301","/cart"),c={data:{product_id:e,qty:o}};this.$http.post(a,c).then((function(e){t.isLoading=!1,t.$httpMessageState(e,"加入購物車"),re["a"].emit("get-cart"),t.$refs.productModal.hideModal()})).catch((function(e){t.$httpMessageState(e.response,"加入購物車")}))},getMore:function(e){var t=this;this.isLoading=!0;var o="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("jasper07301","/product/").concat(e);this.$http.get(o).then((function(e){t.product=e.data.product,t.$refs.productModal.openModal(),t.isLoading=!1})).catch((function(e){t.isLoading=!1,t.$httpMessageState(e.response,"查看")}))}},mounted:function(){this.getProducts()},components:{Pagination:S["a"],ProductModal:le}};const de=ce()(ie,[["render",x]]);t["default"]=de},e01a:function(e,t,o){"use strict";var a=o("23e7"),c=o("83ab"),n=o("da84"),l=o("e330"),r=o("1a2d"),i=o("1626"),d=o("3a9b"),s=o("577e"),b=o("9bf2").f,p=o("e893"),m=n.Symbol,u=m&&m.prototype;if(c&&i(m)&&(!("description"in u)||void 0!==m().description)){var g={},j=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:s(arguments[0]),t=d(u,this)?new m(e):void 0===e?m():m(e);return""===e&&(g[t]=!0),t};p(j,m),j.prototype=u,u.constructor=j;var O="Symbol(test)"==String(m("test")),h=l(u.toString),v=l(u.valueOf),f=/^Symbol\((.*)\)[^)]+$/,E=l("".replace),y=l("".slice);b(u,"description",{configurable:!0,get:function(){var e=v(this),t=h(e);if(r(g,e))return"";var o=O?y(t,7,-1):E(t,f,"$1");return""===o?void 0:o}}),a({global:!0,forced:!0},{Symbol:j})}}}]);
//# sourceMappingURL=chunk-1da719f6.6cd5c17e.js.map